/* =========================================================
   VARIÁVEIS GLOBAIS
   ========================================================= */
:root{
  /* Estrutura */
  --sidebar-width:             220px;  /* desktop expandida */
  --sidebar-collapsed-width:    60px;  /* mobile e desktop colapsada */
  --topbar-height:              68px;  /* altura do header */
  --search-tabs-height:        120px;  /* altura da barra fixa (medida via JS se quiser) */
  --main-gap:                   16px;  /* gap extra entre barra fixa e cards */

  /* Padrão visual (apenas para: Adicione GPT / Sugestões / Config / Perfil) */
  --standard-left:              90px;
  --standard-top:              120px;

  /* Cores */
  --header-bg:        #16213e;
  --sidebar-bg:       #1a1a2e;
  --fixedbar-bg:      #ffffff;
  --content-bg:       #f7f8fb;
  --primary:          #ffd166;
  --text-dark:        #232445;
  --tab-bg:           #eee;
  --tab-active-bg:    #ffd166;

  /* Cartões */
  --card-max-width:   350px;
  --card-gap:         1.25rem;

  /* Botão colapso */
  --collapse-btn-size: 40px;
}

/* =========================================================
   RESET
   ========================================================= */
*,
*::before,
*::after{ margin:0; padding:0; box-sizing:border-box; }
body{
  font-family:sans-serif;
  background:#f2f2f2;
  color:var(--text-dark);
  overflow-x:hidden;
}

/* =========================================================
   HEADER (TOPBAR) – FIXO
   ========================================================= */
.topbar{
  position:fixed; inset:0 auto auto 0;
  height:var(--topbar-height); width:100vw;
  background:var(--header-bg); color:#fff;
  z-index:1000; display:flex; align-items:center;
  box-shadow:0 2px 8px rgba(0,0,0,.1);
}
.topbar .inner{
  width:100%; max-width:1200px; margin:0 auto;
  display:flex; align-items:center; gap:.75rem; padding:0 1rem;
}
.header-logo{ width:44px; height:auto; }
.titles{ display:flex; flex-direction:column; }
.logo{ font-size:1.5rem; font-weight:700; }
.tagline{ font-size:.9rem; color:#e3e3e3; margin-top:.2rem; }

/* =========================================================
   SIDEBAR – MOBILE FIRST (colapsada por padrão)
   ========================================================= */
.sidebar{
  position:fixed;
  top:var(--topbar-height); left:0;
  width:var(--sidebar-collapsed-width);
  height:calc(100vh - var(--topbar-height));
  background:var(--sidebar-bg); color:#fff;
  z-index:1001; display:flex; flex-direction:column;
  transition:width .3s;
}
.sidebar .menu{ list-style:none; margin-top:1rem; flex:1; }
.sidebar .menu li{
  display:flex; align-items:center; gap:.5rem;
  padding:.8rem 1rem; white-space:nowrap;
  cursor:pointer; transition:background .2s;
}
.sidebar .menu li:hover,
.sidebar .menu li.active{ background:rgba(255,255,255,.1); }
.sidebar .icon{ width:30px; text-align:center; font-size:1.4rem; flex-shrink:0; }
.sidebar .label{ opacity:0; width:0; overflow:hidden; transition:opacity .2s,width .2s; }

/* Botão de colapso (mobile: dentro do fluxo da sidebar) */
#collapseBtn{
  position:relative; margin:.5rem auto 1rem; display:block;
  width:var(--collapse-btn-size); height:var(--collapse-btn-size);
  border-radius:50%;
  background:var(--primary); color:var(--text-dark);
  border:2px solid var(--header-bg);
  font-size:1.2rem; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
}

/* =========================================================
   BARRA FIXA (SEARCH + TABS) – MOBILE FIRST
   (encaixa à direita do sidebar colapsado)
   ========================================================= */
.search-tabs{
  position:fixed;
  top:var(--topbar-height);
  left:var(--sidebar-collapsed-width);
  width:calc(100vw - var(--sidebar-collapsed-width));
  background:var(--fixedbar-bg);
  z-index:999;
  box-shadow:0 2px 6px rgba(0,0,0,.08);
  display:none;             /* JS liga/desliga via .show */
  flex-direction:column;
  padding:8px 12px 10px;
}
.search-tabs.show{ display:flex !important; }

/* Conteúdo da barra fixa */
.search-tabs .inner{ width:100%; margin:0; padding:0 8px; }
.section-title{
  text-align:left; font-weight:700; margin:.5rem 0 .6rem; font-size:1.4rem;
}

.search-bar{
  display:flex; align-items:center; gap:.5rem; margin-bottom:.6rem; max-width:360px;
}
.input-wrapper{ position:relative; flex:1; }
.input-wrapper input{
  width:100%;
  padding:.6rem 2.4rem .6rem 1rem;
  border:1px solid #ccc; border-radius:6px; background:#f6f6f6; font-size:1rem;
}
.search-icon{
  position:absolute; top:50%; right:.6rem; transform:translateY(-50%);
  background:none; border:none; font-size:1.15rem; cursor:pointer;
}
#favoritesBtn{
  background:var(--primary); color:#111; border:none;
  padding:.55rem .9rem; border-radius:6px; cursor:pointer; font-size:1rem;
}

/* Tabs */
.tabs{ display:flex; overflow-x:auto; gap:.4rem; padding-bottom:.3rem; }
.tabs button{
  flex-shrink:0; padding:.5rem 1rem; border:none; border-radius:6px;
  background:var(--tab-bg); color:#222; cursor:pointer; font-size:.95rem;
  transition:background .2s,color .2s;
}
.tabs button.active, .tabs button:hover{ background:var(--tab-active-bg); color:#111; }

/* =========================================================
   WRAPPER & MAIN – MOBILE FIRST
   ========================================================= */
.wrapper{ display:flex; min-height:100vh; }
.main{
  position:relative;
  margin-top:calc(var(--topbar-height) + var(--search-tabs-height) + var(--main-gap));
  margin-left:var(--sidebar-collapsed-width);
  min-height:calc(100vh - var(--topbar-height) - var(--search-tabs-height));
  background:var(--content-bg);
  padding:16px 8px 32px;
  transition:margin-left .3s, margin-top .2s;
}

/* =========================================================
   GRID DE CARDS – MOBILE (1 coluna)
   ========================================================= */
.cards-container,
#content{
  display:grid; grid-template-columns:1fr;
  gap:var(--card-gap);
  width:100%; margin:0 auto;
}
.card{
  background:#fff; border-radius:8px; padding:1rem;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
  display:flex; flex-direction:column;
  max-width:var(--card-max-width); margin:0 auto;
}
.card h3{ font-size:1.08rem; margin-bottom:.45rem; font-weight:700; }
.card p{ font-size:.95rem; color:#333; margin-bottom:.5rem; }
.card-actions{ margin-top:auto; display:flex; gap:.5rem; }
.card-actions .btn-open{
  background:#fff; border:1px solid var(--text-dark); color:var(--text-dark);
  text-decoration:none; font-weight:700; padding:.4rem .8rem; border-radius:6px;
  transition:background .2s,color .2s;
}
.card-actions .btn-open:hover{ background:var(--text-dark); color:#fff; }
.card-actions .fav-card-btn{ background:none; border:none; font-size:1.2rem; cursor:pointer; }

/* =========================================================
   PADRÃO VISUAL – SOMENTE para:
   Adicione o seu GPT / Sugestões / Configurações / Perfil
   (sem afetar as demais telas)
   ========================================================= */
section[data-section="adicionar"],
section[data-section="sugestoes"],
section[data-section="configuracoes"],
section[data-section="perfil"],
/* suportando seções por id usadas no app */
#suggestionsSection,
#configSection,
#profileSection,
#importSection{
  padding-left:var(--standard-left);
  padding-top:var(--standard-top);
  display:flex; flex-direction:column; align-items:flex-start;
}

/* Seções com .inner (mantém o padrão se existir um wrapper interno) */
#suggestionsSection .inner,
#configSection .inner,
#profileSection .inner,
#importSection .inner{
  width:100%; max-width:1100px;
}

/* =========================================================
   DESKTOP (>= 900px)
   ========================================================= */
@media (min-width:900px){

  /* Sidebar expandida e labels visíveis */
  .sidebar{ width:var(--sidebar-width); }
  .sidebar .label{ opacity:1; width:auto; }

  /* Botão de colapso “na borda” da sidebar */
  #collapseBtn{
    position:absolute;
    left:100%; bottom:32px; top:auto; transform:translateX(-50%);
    margin:0;
    width:var(--collapse-btn-size); height:var(--collapse-btn-size);
    border:3px solid var(--header-bg);
    font-size:1.6rem;
  }

  /* Barra fixa alinha ao lado da sidebar */
  .search-tabs{
    left:var(--sidebar-width);
    width:calc(100vw - var(--sidebar-width));
    padding:12px 16px 12px;
  }
  /* Quando a sidebar está colapsada no desktop, barra acompanha */
  .sidebar.collapsed ~ .search-tabs{
    left:var(--sidebar-collapsed-width);
    width:calc(100vw - var(--sidebar-collapsed-width));
  }

  /* Main encosta no sidebar e fica abaixo da barra fixa */
  .main{
    margin-left:var(--sidebar-width);
    margin-top:calc(var(--topbar-height) + var(--search-tabs-height) + var(--main-gap));
    min-height:calc(100vh - var(--topbar-height) - var(--search-tabs-height));
    padding:24px 0 36px;
    display:flex; flex-direction:column; align-items:center;
  }
  /* Ao colapsar sidebar no desktop, main acompanha */
  .sidebar.collapsed ~ .wrapper .main{
    margin-left:var(--sidebar-collapsed-width);
  }

  /* Grid: 3 colunas centralizadas */
  .cards-container,
  #content{
    grid-template-columns:repeat(3, 1fr);
    max-width:1000px; gap:var(--card-gap);
  }
}

/* =========================================================
   AJUSTES FINOS / UTILITÁRIOS
   ========================================================= */
@media (max-width:899px){
  /* Header mobile – títulos menores */
  .topbar .inner{ justify-content:flex-start; padding-left:1rem; }
  .logo{ font-size:1.3rem; }
  .tagline{ font-size:.8rem; }
}

/* Utilitários */
.hidden{ display:none !important; }

/* Scrollbar estética */
::-webkit-scrollbar{ width:8px; height:8px; }
::-webkit-scrollbar-thumb{ background:#cfcfd4; border-radius:4px; }
::-webkit-scrollbar-track{ background:#f2f2f2; }

/* =========================================================
   PATCH DE ROBUSTEZ (opcional, recomendado)
   Se o JS adicionar/remover .sidebar-collapsed no <body>,
   estes ajustes garantem alinhamento mesmo se a ordem no DOM mudar.
   ========================================================= */
body.sidebar-collapsed .search-tabs{
  left:var(--sidebar-collapsed-width) !important;
  width:calc(100vw - var(--sidebar-collapsed-width)) !important;
}
body.sidebar-collapsed .wrapper .main{
  margin-left:var(--sidebar-collapsed-width) !important;
}
